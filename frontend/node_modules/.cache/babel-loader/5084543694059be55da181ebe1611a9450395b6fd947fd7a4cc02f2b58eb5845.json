{"ast":null,"code":"import _objectSpread from\"C:/Users/Rameshvar/Desktop/cline/EduActivityFinder/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';// Async thunks\nexport const searchProviders=createAsyncThunk('search/searchProviders',async(params,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.get('/api/search/',{params});return response.data;}catch(error){var _error$response;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||'Search failed');}});// Search slice\nconst searchSlice=createSlice({name:'search',initialState:{results:[],loading:false,error:null,filters:{category:'',subcategory:'',location:'',radius:10,minRating:0,maxPrice:'',sort:'relevance'},pagination:{count:0,next:null,previous:null}},reducers:{setFilters:(state,action)=>{state.filters=_objectSpread(_objectSpread({},state.filters),action.payload);},clearFilters:state=>{state.filters={category:'',subcategory:'',location:'',radius:10,minRating:0,maxPrice:'',sort:'relevance'};},clearError:state=>{state.error=null;}},extraReducers:builder=>{builder.addCase(searchProviders.pending,state=>{state.loading=true;state.error=null;}).addCase(searchProviders.fulfilled,(state,action)=>{state.loading=false;state.results=action.payload.results;state.pagination={count:action.payload.count,next:action.payload.next,previous:action.payload.previous};}).addCase(searchProviders.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export const{setFilters,clearFilters,clearError}=searchSlice.actions;export default searchSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","searchProviders","params","_ref","rejectWithValue","response","get","data","error","_error$response","searchSlice","name","initialState","results","loading","filters","category","subcategory","location","radius","minRating","maxPrice","sort","pagination","count","next","previous","reducers","setFilters","state","action","_objectSpread","payload","clearFilters","clearError","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["C:/Users/Rameshvar/Desktop/cline/EduActivityFinder/frontend/src/features/searchSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Async thunks\r\nexport const searchProviders = createAsyncThunk(\r\n  'search/searchProviders',\r\n  async (params, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/search/', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || 'Search failed');\r\n    }\r\n  }\r\n);\r\n\r\n// Search slice\r\nconst searchSlice = createSlice({\r\n  name: 'search',\r\n  initialState: {\r\n    results: [],\r\n    loading: false,\r\n    error: null,\r\n    filters: {\r\n      category: '',\r\n      subcategory: '',\r\n      location: '',\r\n      radius: 10,\r\n      minRating: 0,\r\n      maxPrice: '',\r\n      sort: 'relevance',\r\n    },\r\n    pagination: {\r\n      count: 0,\r\n      next: null,\r\n      previous: null,\r\n    },\r\n  },\r\n  reducers: {\r\n    setFilters: (state, action) => {\r\n      state.filters = { ...state.filters, ...action.payload };\r\n    },\r\n    clearFilters: (state) => {\r\n      state.filters = {\r\n        category: '',\r\n        subcategory: '',\r\n        location: '',\r\n        radius: 10,\r\n        minRating: 0,\r\n        maxPrice: '',\r\n        sort: 'relevance',\r\n      };\r\n    },\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(searchProviders.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(searchProviders.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.results = action.payload.results;\r\n        state.pagination = {\r\n          count: action.payload.count,\r\n          next: action.payload.next,\r\n          previous: action.payload.previous,\r\n        };\r\n      })\r\n      .addCase(searchProviders.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setFilters, clearFilters, clearError } = searchSlice.actions;\r\nexport default searchSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}