{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';// Async thunks\nexport const fetchProviders=createAsyncThunk('providers/fetchProviders',async(params,_ref)=>{let{rejectWithValue}=_ref;try{const response=await axios.get('/api/providers/',{params});return response.data;}catch(error){var _error$response;return rejectWithValue(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||'Failed to fetch providers');}});export const fetchProviderDetail=createAsyncThunk('providers/fetchProviderDetail',async(id,_ref2)=>{let{rejectWithValue}=_ref2;try{const response=await axios.get(\"/api/providers/\".concat(id,\"/\"));return response.data;}catch(error){var _error$response2;return rejectWithValue(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data)||'Failed to fetch provider');}});export const createProvider=createAsyncThunk('providers/createProvider',async(providerData,_ref3)=>{let{rejectWithValue}=_ref3;try{const response=await axios.post('/api/providers/',providerData);return response.data;}catch(error){var _error$response3;return rejectWithValue(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.data)||'Failed to create provider');}});export const updateProvider=createAsyncThunk('providers/updateProvider',async(_ref4,_ref5)=>{let{id,data}=_ref4;let{rejectWithValue}=_ref5;try{const response=await axios.put(\"/api/providers/\".concat(id,\"/\"),data);return response.data;}catch(error){var _error$response4;return rejectWithValue(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.data)||'Failed to update provider');}});// Providers slice\nconst providersSlice=createSlice({name:'providers',initialState:{providers:[],currentProvider:null,loading:false,error:null,pagination:{count:0,next:null,previous:null}},reducers:{clearError:state=>{state.error=null;},clearCurrentProvider:state=>{state.currentProvider=null;}},extraReducers:builder=>{builder.addCase(fetchProviders.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchProviders.fulfilled,(state,action)=>{state.loading=false;state.providers=action.payload.results;state.pagination={count:action.payload.count,next:action.payload.next,previous:action.payload.previous};}).addCase(fetchProviders.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(fetchProviderDetail.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchProviderDetail.fulfilled,(state,action)=>{state.loading=false;state.currentProvider=action.payload;}).addCase(fetchProviderDetail.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(createProvider.pending,state=>{state.loading=true;state.error=null;}).addCase(createProvider.fulfilled,(state,action)=>{state.loading=false;state.providers.push(action.payload);}).addCase(createProvider.rejected,(state,action)=>{state.loading=false;state.error=action.payload;}).addCase(updateProvider.pending,state=>{state.loading=true;state.error=null;}).addCase(updateProvider.fulfilled,(state,action)=>{var _state$currentProvide;state.loading=false;const index=state.providers.findIndex(p=>p.id===action.payload.id);if(index!==-1){state.providers[index]=action.payload;}if(((_state$currentProvide=state.currentProvider)===null||_state$currentProvide===void 0?void 0:_state$currentProvide.id)===action.payload.id){state.currentProvider=action.payload;}}).addCase(updateProvider.rejected,(state,action)=>{state.loading=false;state.error=action.payload;});}});export const{clearError,clearCurrentProvider}=providersSlice.actions;export default providersSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchProviders","params","_ref","rejectWithValue","response","get","data","error","_error$response","fetchProviderDetail","id","_ref2","concat","_error$response2","createProvider","providerData","_ref3","post","_error$response3","updateProvider","_ref4","_ref5","put","_error$response4","providersSlice","name","initialState","providers","currentProvider","loading","pagination","count","next","previous","reducers","clearError","state","clearCurrentProvider","extraReducers","builder","addCase","pending","fulfilled","action","payload","results","rejected","push","_state$currentProvide","index","findIndex","p","actions","reducer"],"sources":["C:/Users/Rameshvar/Desktop/cline/EduActivityFinder/frontend/src/features/providersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Async thunks\r\nexport const fetchProviders = createAsyncThunk(\r\n  'providers/fetchProviders',\r\n  async (params, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/providers/', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || 'Failed to fetch providers');\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchProviderDetail = createAsyncThunk(\r\n  'providers/fetchProviderDetail',\r\n  async (id, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(`/api/providers/${id}/`);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || 'Failed to fetch provider');\r\n    }\r\n  }\r\n);\r\n\r\nexport const createProvider = createAsyncThunk(\r\n  'providers/createProvider',\r\n  async (providerData, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.post('/api/providers/', providerData);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || 'Failed to create provider');\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateProvider = createAsyncThunk(\r\n  'providers/updateProvider',\r\n  async ({ id, data }, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.put(`/api/providers/${id}/`, data);\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || 'Failed to update provider');\r\n    }\r\n  }\r\n);\r\n\r\n// Providers slice\r\nconst providersSlice = createSlice({\r\n  name: 'providers',\r\n  initialState: {\r\n    providers: [],\r\n    currentProvider: null,\r\n    loading: false,\r\n    error: null,\r\n    pagination: {\r\n      count: 0,\r\n      next: null,\r\n      previous: null,\r\n    },\r\n  },\r\n  reducers: {\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n    clearCurrentProvider: (state) => {\r\n      state.currentProvider = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(fetchProviders.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchProviders.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.providers = action.payload.results;\r\n        state.pagination = {\r\n          count: action.payload.count,\r\n          next: action.payload.next,\r\n          previous: action.payload.previous,\r\n        };\r\n      })\r\n      .addCase(fetchProviders.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(fetchProviderDetail.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchProviderDetail.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.currentProvider = action.payload;\r\n      })\r\n      .addCase(fetchProviderDetail.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(createProvider.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(createProvider.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.providers.push(action.payload);\r\n      })\r\n      .addCase(createProvider.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      .addCase(updateProvider.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(updateProvider.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        const index = state.providers.findIndex(p => p.id === action.payload.id);\r\n        if (index !== -1) {\r\n          state.providers[index] = action.payload;\r\n        }\r\n        if (state.currentProvider?.id === action.payload.id) {\r\n          state.currentProvider = action.payload;\r\n        }\r\n      })\r\n      .addCase(updateProvider.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { clearError, clearCurrentProvider } = providersSlice.actions;\r\nexport default providersSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}